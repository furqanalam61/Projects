import{r as n}from"./p-f23f909f.js";const i=(n,i,t)=>{n.style.setProperty(i,t)},t=(n,i)=>{n.style.removeProperty(i)},a=[],o=(n=[],i)=>{if(void 0!==i){const t=Array.isArray(i)?i:[i];return[...n,...t]}return n},e=()=>{let e,l,r,s,m,d,f,u,c,y,v,p,g,$=[],A=[],b=[],k=!1,C={},E=[],h=[],S={},T=0,w=!1,F=!1,R=!0,D=!1,W=!0;const I=[],M=[],j=[],x=[],K=[],O=[],P=[],q=[],z=[],B=[],G="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,H="function"==typeof Element&&"function"==typeof Element.prototype.animate&&G,J=()=>B,L=(n,i)=>((i&&i.oneTimeCallback?M:I).push({callback:n,opts:i}),g),N=()=>(I.length=0,M.length=0,g),Q=()=>{H?(J().forEach(n=>{n.cancel()}),B.length=0):j.forEach(i=>{n(()=>{t(i,"animation-name"),t(i,"animation-duration"),t(i,"animation-timing-function"),t(i,"animation-iteration-count"),t(i,"animation-delay"),t(i,"animation-play-state"),t(i,"animation-fill-mode"),t(i,"animation-direction")})})},U=()=>{K.forEach(n=>{n&&n.parentNode&&n.parentNode.removeChild(n)}),K.length=0},V=()=>void 0!==m?m:f?f.getFill():"both",X=()=>void 0!==c?c:void 0!==d?d:f?f.getDirection():"normal",Y=()=>w?"linear":void 0!==r?r:f?f.getEasing():"linear",Z=()=>F?0:void 0!==y?y:void 0!==l?l:f?f.getDuration():0,_=()=>void 0!==s?s:f?f.getIterations():1,nn=()=>void 0!==v?v:void 0!==e?e:f?f.getDelay():0,tn=()=>{0!==T&&0==--T&&((()=>{mn(),q.forEach(n=>{n()}),z.forEach(n=>{n()}),(()=>{const n=E,t=h,a=S;j.forEach(o=>{const e=o.classList;n.forEach(n=>e.add(n)),t.forEach(n=>e.remove(n));for(const n in a)a.hasOwnProperty(n)&&i(o,n,a[n])})})();const n=R;I.forEach(i=>{i.callback(n,g)}),M.forEach(i=>{i.callback(n,g)}),M.length=0,W=!0,D=!0})(),f&&f.animationFinish())},an=(t=!0)=>{O.forEach(n=>{n()}),P.forEach(n=>{n()}),(()=>{const n=A,t=b,a=C;j.forEach(o=>{const e=o.classList;n.forEach(n=>e.add(n)),t.forEach(n=>e.remove(n));for(const n in a)a.hasOwnProperty(n)&&i(o,n,a[n])})})(),$.length>0&&(H?(j.forEach(n=>{const i=n.animate($,{delay:nn(),duration:Z(),easing:Y(),iterations:_(),fill:V(),direction:X()});i.pause(),B.push(i)}),J().length>0&&(B[0].onfinish=()=>{tn()})):((t=!0)=>{U(),j.forEach(o=>{if($.length>0){const e=((n=[])=>n.map(n=>{const i=n.offset,t=[];for(const a in n)n.hasOwnProperty(a)&&"offset"!==a&&t.push(`${a}: ${n[a]};`);return`${100*i}% { ${t.join(" ")} }`}).join(" "))($),l=((n,i,t)=>{const a=(n=>{const i=n.getRootNode();return i.head||i})(t),o=a.querySelector("#"+n);if(o)return o;const e=(t.ownerDocument||document).createElement("style");return e.id=n,e.textContent=`@keyframes ${n} { ${i} } @keyframes ${n}-alt { ${i} }`,a.appendChild(e),e})(p=(n=>{let i=a.indexOf(n);return i<0&&(i=a.push(n)-1),`ion-animation-${i}`})(e),e,o);K.push(l),i(o,"animation-duration",void 0!==Z()?`${Z()}ms`:null),i(o,"animation-timing-function",Y()||null),i(o,"animation-delay",void 0!==nn()?`${nn()}ms`:null),i(o,"animation-fill-mode",V()||null),i(o,"animation-direction",X()||null);const r=void 0!==_()?_()===1/0?"infinite":_().toString():null;i(o,"animation-iteration-count",r),i(o,"animation-play-state","paused"),t&&i(o,"animation-name",`${l.id}-alt`),n(()=>{i(o,"animation-name",l.id||null)})}})})(t)),k=!0},on=n=>{if(n=Math.min(Math.max(n,0),.999),H)J().forEach(i=>{i.currentTime=i.effect.getComputedTiming().delay+Z()*n,i.pause()});else{const t=`-${(nn()||0)+Z()*n}ms`;j.forEach(n=>{$.length>0&&(i(n,"animation-delay",t),i(n,"animation-play-state","paused"))})}},en=(t=!0)=>{j.forEach(a=>{n(()=>{i(a,"animation-name",p||null),i(a,"animation-duration",void 0!==Z()?`${Z()}ms`:null),i(a,"animation-timing-function",Y()||null),i(a,"animation-delay",void 0!==nn()?`${nn()}ms`:null),i(a,"animation-fill-mode",V()||null),i(a,"animation-direction",X()||null);const o=void 0!==_()?_()===1/0?"infinite":_().toString():null;i(a,"animation-iteration-count",o),t&&i(a,"animation-name",`${p}-alt`),n(()=>{i(a,"animation-name",p||null)})})})},ln=(n=!1,i=!0)=>(n&&x.forEach(i=>{i.update(n)}),H?J().forEach(n=>{n.effect.updateTiming({delay:nn(),duration:Z(),easing:Y(),iterations:_(),fill:V(),direction:X()})}):en(i),g),rn=()=>{k&&(H?J().forEach(n=>{n.pause()}):j.forEach(n=>{i(n,"animation-play-state","paused")}))},sn=()=>{u=void 0,tn()},mn=()=>{u&&clearTimeout(u)},dn=()=>(k||an(),D&&(H?on(0):en(),D=!1),W&&(T=x.length+1,W=!1),x.forEach(n=>{n.play()}),H?(J().forEach(n=>{n.play()}),0!==$.length&&0!==j.length||tn()):(()=>{if(mn(),j.forEach(t=>{$.length>0&&n(()=>{i(t,"animation-play-state","running")})}),0===$.length||0===j.length)tn();else{const i=nn()||0,a=Z()||0;u=setTimeout(sn,i+a+100),(i=>{let a;const o={passive:!0},e=o=>{i===o.target&&(a&&a(),mn(),n(()=>{j.forEach(n=>{t(n,"animation-duration"),t(n,"animation-delay"),t(n,"animation-play-state")}),n(tn)}))};i&&(i.addEventListener("webkitAnimationEnd",e,o),i.addEventListener("animationend",e,o),a=()=>{i.removeEventListener("webkitAnimationEnd",e,o),i.removeEventListener("animationend",e,o)})})(j[0])}})(),g),fn=(n,i)=>{const t=$[0];return null==t||void 0!==t.offset&&0!==t.offset?$=[{offset:0,[n]:i},...$]:t[n]=i,g};return g={parentAnimation:f,elements:j,childAnimations:x,animationFinish:tn,from:fn,to:(n,i)=>{const t=$[$.length-1];return null==t||void 0!==t.offset&&1!==t.offset?$=[...$,{offset:1,[n]:i}]:t[n]=i,g},fromTo:(n,i,t)=>fn(n,i).to(n,t),parent:n=>(f=n,g),play:dn,playAsync:()=>new Promise(n=>(L(n,{oneTimeCallback:!0}),dn(),g)),playSync:()=>(F=!0,L(()=>F=!1,{oneTimeCallback:!0}),dn(),g),pause:()=>(x.forEach(n=>{n.pause()}),rn(),g),stop:()=>(x.forEach(n=>{n.stop()}),k&&(Q(),k=!1),g),destroy:()=>(x.forEach(n=>{n.destroy()}),Q(),U(),j.length=0,x.length=0,$.length=0,N(),k=!1,W=!0,g),keyframes:n=>($=n,g),addAnimation:n=>{if(null!=n){const i=g,t=n;if(t.length>=0)for(const n of t)n.parent(i),x.push(n);else n.parent(i),x.push(n)}return g},addElement:n=>{if(null!=n)if(1===n.nodeType)j.push(n);else if(n.length>=0)for(let i=0;i<n.length;i++)j.push(n[i]);else console.error("Invalid addElement value");return g},update:ln,fill:n=>(m=n,ln(!0),g),direction:n=>(d=n,ln(!0),g),iterations:n=>(s=n,ln(!0),g),duration:n=>(H||0!==n||(n=1),l=n,ln(!0),g),easing:n=>(r=n,ln(!0),g),delay:n=>(e=n,ln(!0),g),getWebAnimations:J,getKeyframes:()=>$,getFill:V,getDirection:X,getDelay:nn,getIterations:_,getEasing:Y,getDuration:Z,afterAddRead:n=>(q.push(n),g),afterAddWrite:n=>(z.push(n),g),afterClearStyles:(n=[])=>{for(const i of n)S[i]="";return g},afterStyles:(n={})=>(S=n,g),afterRemoveClass:n=>(h=o(h,n),g),afterAddClass:n=>(E=o(E,n),g),beforeAddRead:n=>(O.push(n),g),beforeAddWrite:n=>(P.push(n),g),beforeClearStyles:(n=[])=>{for(const i of n)C[i]="";return g},beforeStyles:(n={})=>(C=n,g),beforeRemoveClass:n=>(b=o(b,n),g),beforeAddClass:n=>(A=o(A,n),g),onFinish:L,clearOnFinish:N,progressStart:(n=!1)=>(x.forEach(i=>{i.progressStart(n)}),rn(),w=n,k?(ln(),on(0)):an(),g),progressStep:n=>(x.forEach(i=>{i.progressStep(n)}),void 0!==Z()&&on(n),g),progressEnd:(n,i,t)=>(w=!1,x.forEach(a=>{a.progressEnd(n,i,t)}),void 0!==t&&(y=t),D=!1,R=n,n?H||(v=i*Z()*-1,ln(!1,!1)):(c="reverse"===X()?"normal":"reverse",H?(ln(),on(1-i)):(v=(1-i)*Z()*-1,ln(!1,!1))),L(()=>{R=!0,y=void 0,c=void 0,v=void 0},{oneTimeCallback:!0}),f||dn(),g)}};export{e as c};