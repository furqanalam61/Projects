import"./p-f23f909f.js";import{c as t}from"./p-2f6761dc.js";const o=(t,o="top")=>`calc(${t}px + var(--ion-safe-area-${o}))`,n=t=>document.querySelector(`${t}.ion-cloned-element`),a=t=>t.shadowRoot||t,e=t=>t.querySelector("ion-header:not(.header-collapse-condense-inactive) ion-title[size=large]"),s=(t,o)=>{const n=t.querySelectorAll("ion-buttons");for(const a of n){const t=a.closest("ion-header"),n=t&&!t.classList.contains("header-collapse-condense-inactive"),e=a.querySelector("ion-back-button"),s=a.classList.contains("buttons-collapse");if(null!==e&&(s&&n&&o||!s))return e}return null},r=(a,e,s,r)=>{const i=e?"7px":"-7px",c=e?"-4px":"4px",l=e?"-4px":"4px",f=e?"right":"left",p=e?"left":"right",$=[{offset:0,opacity:0,transform:`translate(${i}, ${o(8)}) scale(2.1)`},{offset:1,opacity:1,transform:`translate(${c}, ${o(-40)}) scale(1)`}],d=[{offset:0,opacity:1,transform:`translate(${c}, ${o(-40)}) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate(${i}, ${o(8)}) scale(2.1)`}],m=s?d:$,b=[{offset:0,opacity:0,transform:`translate3d(${l}, ${o(-35)}, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${l}, ${o(-40)}, 0) scale(1)`}],u=[{offset:0,opacity:1,transform:`translate(${l}, ${o(-40)}) scale(1)`},{offset:.2,opacity:0,transform:`translate(${l}, ${o(-35)}) scale(0.6)`},{offset:1,opacity:0,transform:`translate(${l}, ${o(-35)}) scale(0.6)`}],y=s?u:b,X=t(),h=t(),g=n("ion-back-button"),x=g.querySelector(".button-text"),k=g.querySelector("ion-icon");g.text=r.text,g.mode=r.mode,g.icon=r.icon,g.color=r.color,g.disabled=r.disabled,g.style.setProperty("display","block"),g.style.setProperty("position","fixed"),h.addElement(k),X.addElement(x),X.beforeStyles({"transform-origin":`${f} center`}).beforeAddWrite(()=>{r.style.setProperty("display","none")}).afterAddWrite(()=>{r.style.setProperty("display",""),g.style.setProperty("display","none")}).keyframes(m),h.beforeStyles({"transform-origin":`${p} center`}).keyframes(y),a.addAnimation([X,h])},i=(a,e,s,r)=>{const i=e?"-18px":"18px",c=e?"right":"left",l=[{offset:0,opacity:0,transform:`translate(${i}, ${o(0)}) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate(0, ${o(49)}) scale(1)`}],f=[{offset:0,opacity:.99,transform:`translate(0, ${o(49)}) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate(${i}, ${o(0)}) scale(0.5)`}],p=s?l:f,$=n("ion-title"),d=t();$.innerText=r.innerText,$.size=r.size,$.color=r.color,d.addElement($),d.beforeStyles({"transform-origin":`${c} center`,height:"46px",display:"",position:"relative"}).beforeAddWrite(()=>{r.style.setProperty("display","none")}).afterAddWrite(()=>{r.style.setProperty("display",""),$.style.setProperty("display","none")}).keyframes(p),a.addAnimation(d)},c=(o,n)=>{try{const c="cubic-bezier(0.32,0.72,0,1)",l="opacity",f="transform",p="0%",$=.8,d="rtl"===o.ownerDocument.dir,m=d?"-99.5%":"99.5%",b=d?"33%":"-33%",u=n.enteringEl,y=n.leavingEl,X="back"===n.direction,h=u.querySelector(":scope > ion-content"),g=u.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),x=u.querySelectorAll(":scope > ion-header > ion-toolbar"),k=t(),v=t();if(k.addElement(u).duration(n.duration||540).easing(n.easing||c).fill("both").beforeRemoveClass("ion-page-invisible"),y&&o){const n=t();n.addElement(o),k.addAnimation(n)}if(h||0!==x.length||0!==g.length?(v.addElement(h),v.addElement(g)):v.addElement(u.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),k.addAnimation(v),X?v.beforeClearStyles([l]).fromTo("transform",`translateX(${b})`,`translateX(${p})`).fromTo(l,$,1):v.beforeClearStyles([l]).fromTo("transform",`translateX(${m})`,`translateX(${p})`),h){const o=a(h).querySelector(".transition-effect");if(o){const n=o.querySelector(".transition-cover"),a=o.querySelector(".transition-shadow"),e=t(),s=t(),r=t();e.addElement(o).beforeStyles({opacity:"1"}).afterStyles({opacity:""}),s.addElement(n).beforeClearStyles([l]).fromTo(l,0,.1),r.addElement(a).beforeClearStyles([l]).fromTo(l,.03,.7),e.addAnimation([s,r]),v.addAnimation([e])}}const w=u.querySelector("ion-header.header-collapse-condense"),{forward:T,backward:j}=((t,o,n,a,c)=>{const l=s(a,n),f=e(c),p=e(a),$=s(c,n),d=null!==l&&null!==f&&!n,m=null!==p&&null!==$&&n;return d?(i(t,o,n,f),r(t,o,n,l)):m&&(i(t,o,n,p),r(t,o,n,$)),{forward:d,backward:m}})(k,d,X,u,y);if(x.forEach(o=>{const n=t();n.addElement(o),k.addAnimation(n);const e=t();e.addElement(o.querySelector("ion-title"));const s=t(),r=Array.from(o.querySelectorAll("ion-buttons,[menuToggle]")),i=o.closest("ion-header"),c=i&&i.classList.contains("header-collapse-condense-inactive");let f;f=r.filter(X?t=>{const o=t.classList.contains("buttons-collapse");return o&&!c||!o}:t=>!t.classList.contains("buttons-collapse")),s.addElement(f);const $=t();$.addElement(o.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const u=t();u.addElement(a(o).querySelector(".toolbar-background"));const y=t(),h=o.querySelector("ion-back-button");if(h&&y.addElement(h),n.addAnimation([e,s,$,u,y]),s.fromTo(l,.01,1),$.fromTo(l,.01,1),X)c||e.fromTo("transform",`translateX(${b})`,`translateX(${p})`).fromTo(l,.01,1),$.fromTo("transform",`translateX(${b})`,`translateX(${p})`),y.fromTo(l,.01,1);else if(w||e.fromTo("transform",`translateX(${m})`,`translateX(${p})`).fromTo(l,.01,1),$.fromTo("transform",`translateX(${m})`,`translateX(${p})`),u.beforeClearStyles([l]).fromTo(l,.01,1),T||y.fromTo(l,.01,1),h&&!T){const o=t();o.addElement(a(h).querySelector(".button-text")).fromTo("transform",d?"translateX(-100px)":"translateX(100px)","translateX(0px)"),n.addAnimation(o)}}),y){const o=t(),n=y.querySelector(":scope > ion-content");if(o.addElement(n),o.addElement(y.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *")),k.addAnimation(o),X?o.beforeClearStyles([l]).fromTo("transform",`translateX(${p})`,d?"translateX(-100%)":"translateX(100%)"):o.fromTo("transform",`translateX(${p})`,`translateX(${b})`).fromTo(l,1,$),n){const e=a(n).querySelector(".transition-effect");if(e){const n=e.querySelector(".transition-cover"),a=e.querySelector(".transition-shadow"),s=t(),r=t(),i=t();s.addElement(e).beforeStyles({opacity:"1"}).afterStyles({opacity:""}),r.addElement(n).beforeClearStyles([l]).fromTo(l,.1,0),i.addElement(a).beforeClearStyles([l]).fromTo(l,.7,.03),s.addAnimation([r,i]),o.addAnimation([s])}}y.querySelectorAll(":scope > ion-header > ion-toolbar").forEach(o=>{const n=t();n.addElement(o);const e=t();e.addElement(o.querySelector("ion-title"));const s=t(),r=o.querySelectorAll("ion-buttons,[menuToggle]"),i=o.closest("ion-header"),c=i&&i.classList.contains("header-collapse-condense-inactive"),$=Array.from(r).filter(t=>{const o=t.classList.contains("buttons-collapse");return o&&!c||!o});s.addElement($);const m=t(),u=o.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");u.length>0&&m.addElement(u);const y=t();y.addElement(a(o).querySelector(".toolbar-background"));const h=t(),g=o.querySelector("ion-back-button");if(g&&h.addElement(g),n.addAnimation([e,s,m,h,y]),k.addAnimation(n),h.fromTo(l,.99,0),s.fromTo(l,.99,0),m.fromTo(l,.99,0),X){if(c||e.fromTo("transform",`translateX(${p})`,d?"translateX(-100%)":"translateX(100%)").fromTo(l,.99,0),m.fromTo("transform",`translateX(${p})`,d?"translateX(-100%)":"translateX(100%)"),y.beforeClearStyles([l]).fromTo(l,1,.01),g&&!j){const o=t();o.addElement(a(g).querySelector(".button-text")).fromTo("transform",`translateX(${p})`,`translateX(${(d?-124:124)+"px"})`),n.addAnimation(o)}}else c||e.fromTo("transform",`translateX(${p})`,`translateX(${b})`).fromTo(l,.99,0).afterClearStyles([f,l]),m.fromTo("transform",`translateX(${p})`,`translateX(${b})`).afterClearStyles([f,l]),h.afterClearStyles([l]),e.afterClearStyles([l]),s.afterClearStyles([l])})}return k}catch(c){throw c}};export{c as iosTransitionAnimation,a as shadow};